---
title: '[Git] stash'
excerpt: "restore"

categories:
  - git
tags: 
  - [git]

date: 2023-02-26
last_modified_at: 2023-02-26
---

# ğŸ¯stash
stashëŠ” Modifiedì´ë©´ì„œ Tracked ìƒíƒœì¸ íŒŒì¼ê³¼ Staging Areaì— ìˆëŠ” íŒŒì¼ë“¤ì„ ë³´ê´€í•´ë‘ëŠ” ì¥ì†Œë‹¤. ì•„ì§ ëë‚´ì§€ ì•Šì€ ìˆ˜ì •ì‚¬í•­ì„ ìŠ¤íƒì— ì ì‹œ ì €ì¥í–ˆë‹¤ê°€ ë‚˜ì¤‘ì— ë‹¤ì‹œ ì ìš©í•˜ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## ì˜ˆì œ í”„ë¡œì íŠ¸
ì˜ˆì œ í”„ë¡œì íŠ¸ë¥¼ í•˜ë‚˜ ì‚´í´ë³´ì. íŒŒì¼ì„ ë‘ ê°œ ìˆ˜ì •í•˜ê³  ê·¸ ì¤‘ í•˜ë‚˜ëŠ” Staging Areaì— ì¶”ê°€í•œë‹¤. ê·¸ë¦¬ê³  `git status` ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.
```bash
$ git status
On branch master
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        modified:   index.html

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   lib/simplegit.rb
```

### stash í•˜ê¸°
ì‘ì—…ì„ í•˜ë˜ ì¤‘ì— ê¸‰í•˜ê²Œ ì²˜ë¦¬í•  ì´ìŠˆê°€ ìƒê²¨ í˜„ì¬ ì‘ì—… ì¤‘ì¸ íŒŒì¼ì„ ì»¤ë°‹í•˜ì§€ ì•Šê³  ì ì‹œ stash í•˜ê³  ë¸Œëœì¹˜ë¥¼ ë³€ê²½í•œë‹¤ê³  ê°€ì •í•´ë³´ì. `git stash`ë‚˜ `git stash save` ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ìŠ¤íƒì— ìƒˆë¡œìš´ Stashê°€ ë§Œë“¤ì–´ì§€ê³  ì›Œí‚¹ ë””ë ‰í† ë¦¬ì™€ Staging AreaëŠ” clean ëœë‹¤.
```bash
$ git stash 
Saved working directory and index state WIP on master: 652247d First Commit
$ git status
On branch master
nothing to commit, working tree clean
```

### stash list
`git stash` ëª…ë ¹ì„ ì´ìš©í•´ ìˆ˜ì •í•˜ë˜ íŒŒì¼ì„ ìŠ¤íƒì— ì €ì¥í–ˆë‹¤. ì €ì¥ëœ Stashë¥¼ í™•ì¸í•˜ë ¤ë©´ `git stash list` ëª…ë ¹ì„ ì‚¬ìš©í•œë‹¤.
```bash
$ git stash list
stash@{0}: WIP on master: 652247d First Commit
```

### stash apply
`git stash apply` ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ Stashë¥¼ ë‹¤ì‹œ ì ìš©í•  ìˆ˜ ìˆë‹¤. `git stash apply stash@{0}` ì²˜ëŸ¼ Stash ì´ë¦„ì„ ì§€ì •í•˜ì—¬ ì ìš©í•  ìˆ˜ ìˆë‹¤. ì´ë¦„ì´ ì—†ìœ¼ë©´ Gitì€ ê°€ì¥ ìµœê·¼ì˜ Stashë¥¼ ì ìš©í•œë‹¤.
```bash
$ git stash apply
On branch master
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   index.html
        modified:   lib/simplegit.rb

no changes added to commit (use "git add" and/or "git commit -a")
```
- Gitì€ Stashì— ì €ì¥í•  ë•Œ ìˆ˜ì •í–ˆë˜ íŒŒì¼ë“¤ì„ ë³µì›í•´ì¤€ë‹¤. ì–´ë–¤ ë¸Œëœì¹˜ì—ì„œ Stash í•˜ê³  ë‹¤ë¥¸ ë¸Œëœì¹˜ë¡œ ì˜®ê¸°ê³ ì„œ ê±°ê¸°ì— Stashë¥¼ ë³µì›í•  ìˆ˜ë„ ìˆë‹¤.
- Gitì€ Stashë¥¼ ì ìš©í•  ë•Œ Staged ìƒíƒœì˜€ë˜ íŒŒì¼ì„ ìë™ìœ¼ë¡œ ë‹¤ì‹œ Staged ìƒíƒœë¡œ ë§Œë“¤ì–´ ì£¼ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ `git stash apply` ëª…ë ¹ì„ ì‹¤í–‰í•  ë•Œ `--index` ì˜µì…˜ì„ ì£¼ì–´ Staged ìƒíƒœê¹Œì§€ ì ìš©í•  ìˆ˜ ìˆë‹¤.

### stash drop
`apply` ëª…ë ¹ì€ ë‹¨ìˆœíˆ Stashë¥¼ ì ìš©í•˜ëŠ” ê²ƒë¿ì´ë‹¤. StashëŠ” ì—¬ì „íˆ ìŠ¤íƒì— ë‚¨ì•„ ìˆë‹¤. `git stash drop` ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ Stashë¥¼ ì œê±°í•  ìˆ˜ ìˆë‹¤.
```bash
$ git stash list
stash@{0}: WIP on master: 652247d First Commit
$ git stash drop stash@{0}
Dropped stash@{0} (43a4409c7ebad88e45474228505d87eb0d97e545)
$ git stash list

```
ê·¸ë¦¬ê³  `git stash pop` ì´ë¼ëŠ” ëª…ë ¹ë„ ìˆëŠ”ë° ì´ ëª…ë ¹ì€ Stashë¥¼ ì ìš©í•˜ê³  ë‚˜ì„œ ë°”ë¡œ ìŠ¤íƒì—ì„œ ì œê±°í•´ì¤€ë‹¤.

## Stashë¥¼ ë§Œë“œëŠ” ë‹¤ë¥¸ ë°©ë²•
1. `git stash` ëª…ë ¹ì— `--keep-index` ì˜µì…˜ì„ ì´ìš©í•˜ë©´ Staging Areaì— ìˆëŠ” íŒŒì¼ì€ Stash í•˜ì§€ ì•ŠëŠ”ë‹¤.
2. `git stash` ëª…ë ¹ì— `--include-untracked`ë‚˜ `-u` ì˜µì…˜ì„ ë¶™ì—¬ì£¼ë©´ Untracked íŒŒì¼ì„ ê°™ì´ Stash í•  ìˆ˜ ìˆë‹¤. (ê¸°ë³¸ì ìœ¼ë¡œ `git stash` ëª…ë ¹ì€ tracked ìƒíƒœì˜ íŒŒì¼ë§Œ ì €ì¥í•œë‹¤.)
3. `git stash` ëª…ë ¹ì— `--patch` ì˜µì…˜ì„ ë¶™ì´ë©´ Gitì€ ìˆ˜ì •ëœ ëª¨ë“  ì‚¬í•­ì„ ì €ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. ëŒ€ì‹  ëŒ€í™”í˜• í”„ë¡¬í”„íŠ¸ê°€ ëœ¨ë©° ë³€ê²½ëœ ë°ì´í„° ì¤‘ ì €ì¥í•  ê²ƒê³¼ ì €ì¥í•˜ì§€ ì•Šì„ ê²ƒì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

## Stashë¥¼ ì ìš©í•  ë¸Œëœì¹˜ ë§Œë“¤ê¸°
`git stash branch <ë¸Œëœì¹˜ ì´ë¦„>` ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ Stash í•  ë‹¹ì‹œì˜ ì»¤ë°‹ì„ Checkout í•œ í›„ì— ìƒˆë¡œìš´ ë¸Œëœì¹˜ë¥¼ ë§Œë“¤ê³  ì—¬ê¸°ì— ì ìš©í•œë‹¤. ì´ ëª¨ë“  ê²ƒì´ ì„±ê³µí•˜ë©´ Stashë¥¼ ì‚­ì œí•œë‹¤.
```bash
$ git stash branch testbranch
Switched to a new branch 'testbranch'
On branch testbranch
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        modified:   index.html

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   lib/simplegit.rb

Dropped refs/stash@{0} (6cac35a9769512aa21f09f404ef8127ca418e97a)
```

## ğŸ“Œì¶œì²˜
[Git Docs](https://git-scm.com/book/ko/v2/Git-%EB%8F%84%EA%B5%AC-Stashing%EA%B3%BC-Cleaning)

***
    ğŸ‘ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ ì¡°ì–¸ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ë‚¨ê²¨ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}