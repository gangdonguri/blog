---
title: '[GitHub-Action] ê°œìš” (1)'
excerpt: "gitHub-action ê°œìš”"

categories:
  - github-action
tags: 
  - [github-action]

date: 2023-01-11
last_modified_at: 2023-01-11
---

# ê°œìš”
- GitHub ActionsëŠ” ë¹Œë“œ, í…ŒìŠ¤íŠ¸ ë° ë°°í¬ íŒŒì´í”„ë¼ì¸ì„ ìë™í™”í•  ìˆ˜ ìˆëŠ” CI/CD í”Œë«í¼ì…ë‹ˆë‹¤.
- GitHub ActionsëŠ” ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ ì›Œí¬í”Œë¡œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

## GitHub Actionsì˜ êµ¬ì„±ìš”ì†Œ
- `workflow`: pull request, new issue ë“± ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ íŠ¸ë¦¬ê±°ë˜ë„ë¡ workflowë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. workflow ì—ëŠ” ìˆœì°¨ì  ë˜ëŠ” ë³‘ë ¬ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•˜ë‚˜ ì´ìƒì˜ ì‘ì—…ì´ ìˆìŠµë‹ˆë‹¤.
- `jobs`: ê° ì‘ì—…ì€ ìì²´ ê°€ìƒ ë¨¸ì‹  runner ë˜ëŠ” ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì‹¤í–‰ë˜ë©° ì‚¬ìš©ìê°€ ì •ì˜í•œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ê±°ë‚˜ `action`ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•˜ë‚˜ ì´ìƒì˜ `steps`ì´ ìˆìŠµë‹ˆë‹¤.

![image](https://user-images.githubusercontent.com/87158339/211738786-faf8233c-81e0-4a7b-8d8d-4155db1435c2.png)

### Workflow
- workflowëŠ” í•˜ë‚˜ ì´ìƒì˜ job ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ìë™í™” í”„ë¡œì„¸ìŠ¤ì…ë‹ˆë‹¤. ë¦¬í¬ì§€í† ë¦¬ì˜ `.github/workflows` ë””ë ‰í„°ë¦¬ì— YAML íŒŒì¼ë¡œì„œ ì •ì˜ë©ë‹ˆë‹¤.
- ë¦¬í¬ì§€í† ë¦¬ì—ëŠ” ê°ê° ë‹¤ë¥¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì—¬ëŸ¬ workflowê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ workflow ê°„ì—ëŠ” ì„œë¡œ ì°¸ì¡°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Events
- ì´ë²¤íŠ¸ëŠ” workflow ì‹¤í–‰ì„ íŠ¸ë¦¬ê±°í•˜ëŠ” ë¦¬í¬ì§€í† ë¦¬ì˜ íŠ¹ì •í•œ í™œë™ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `pull request`, `new issue`, `commit push` í™œë™ì€ ì´ë²¤íŠ¸ë¡œì„œ ë™ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. workflowë¥¼ íŠ¸ë¦¬ê±°í•˜ëŠ”ë° ì‚¬ìš©ê°€ëŠ¥í•œ ì „ì²´ ì´ë²¤íŠ¸ ëª©ë¡ì€ [ì—¬ê¸°](https://docs.github.com/en/actions/reference/events-that-trigger-workflows)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.
- ë˜í•œ REST APIì„ ì´ìš©í•˜ê±°ë‚˜ ìˆ˜ë™ìœ¼ë¡œ ì¼ì •ì— ë”°ë¼ workflow ì‹¤í–‰ì„ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### jobs
- jobì€ ë™ì¼í•œ `runner`ì—ì„œ ì‹¤í–‰ë˜ëŠ” workflowì˜ ì¼ë ¨ì˜ stepì„ ì •ì˜í•©ë‹ˆë‹¤. ê° stepì—ëŠ” ì‰˜ ìŠ¤í¬ë¦½íŠ¸ ë˜ëŠ” `action` ì—¬ëŸ¬ ê°œë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.
- stepì€ í•˜ë‚˜ì˜ `runner` ì—ì„œ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.
- ì„œë¡œ ë‹¤ë¥¸ job ê°„ì—ëŠ” ì¢…ì†ì„±ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ jobì—ëŠ” ì¢…ì†ì„± ì—†ì´ ë³‘ë ¬ë¡œ ì‹¤í–‰ë˜ì§€ë§Œ A ì‘ì—…ì´ B ì‘ì—…ì´ ì™„ë£Œëœ í›„ì— ì‹¤í–‰ë˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Actions
- Actionì€ ë³µì¡í•˜ê³  ìì£¼ ë°˜ë³µë˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” custom applicationì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ Githubì—ì„œ git ë¦¬í¬ì§€í† ë¦¬ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ë¹Œë“œ í™˜ê²½ì„ êµ¬ì„±í•˜ëŠ” ë“±ì˜ ì‘ì—…ì„ Actionì„ í†µí•´ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- Actionì€ ìŠ¤ìŠ¤ë¡œ ì‘ì„±í•˜ê±°ë‚˜ `GitHub Maketplace` ì—ì„œ ìœ ìš©í•œ Actionì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### runner
- runnerëŠ” íŠ¸ë¦¬ê±°ë  ë•Œ workflowë¥¼ ì‹¤í–‰í•˜ëŠ” ì„œë²„ì…ë‹ˆë‹¤. ê° runnerëŠ” í•œ ë²ˆì— í•˜ë‚˜ì˜ jobì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- GitHubëŠ” Ubuntu, Windows, macOS runnerë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- ê° workflowì˜ ì‹¤í•´ì€ ìƒˆë¡œ í”„ë¡œë¹„ì €ë‹ëœ ìƒˆë¡œìš´ ê°€ìƒ ë¨¸ì‹ ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.
- ë‹¤ë¥¸ ìš´ì˜ ì²´ì œê°€ í•„ìš”í•˜ê±°ë‚˜ íŠ¹ì • í•˜ë“œì›¨ì–´ êµ¬ì„±ì´ í•„ìš”í•œ ê²½ìš° ìì²´ runnerë¥¼ í˜¸ìŠ¤íŒ…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì²´ runnerì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ [ì—¬ê¸°](https://docs.github.com/en/actions/hosting-your-own-runners)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”

## ì˜ˆì‹œ workflow
```yaml
# This workflow will run tests using node and then publish a package to GitHub Packages when a release is created
# For more information see: https://docs.github.com/en/actions/publishing-packages/publishing-nodejs-packages

name: Node.js Package

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: 16
      - run: cat .github/workflows/unit-test.yml
      - run: npm ci
      - run: npm test
```

- `name`: (optional) GitHub ë¦¬í¬ì§€í† ë¦¬ì˜ Action íƒ­ì— í‘œì‹œë˜ëŠ” workflowì˜ ì´ë¦„ì…ë‹ˆë‹¤.
- `on`: ì´ workflowì˜ íŠ¸ë¦¬ê±°ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì´ ì˜ˆì œì—ì„œëŠ” master ë¸Œëœì¹˜ì— push ë˜ëŠ” pull request ì‹œ íŠ¸ë¦¬ê±°ë©ë‹ˆë‹¤.
- `jobs`: ì´ workflowì—ì„œ ì‹¤í–‰ë˜ëŠ” ëª¨ë“  ì‘ì—…ì„ í•¨ê»˜ ê·¸ë£¹í™”í•©ë‹ˆë‹¤.
- `build`: buildë¼ëŠ” jobì„ ì •ì˜í•©ë‹ˆë‹¤.
- `runs-on`: ìµœì‹  ë²„ì „ì˜ Ubuntu Linux runnerì—ì„œ ì‹¤í–‰ë˜ë„ë¡ jobì„ êµ¬ì„±í•©ë‹ˆë‹¤. ì´ê²ƒì€ jobì´ GitHubì—ì„œ í˜¸ìŠ¤íŒ…í•˜ëŠ” ìƒˆë¡œìš´ ê°€ìƒ ë¨¸ì‹ ì—ì„œ ì‹¤í–‰ë¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- `steps`: `build` jobì—ì„œ ì‹¤í–‰ë˜ëŠ” ëª¨ë“  stepì„ í•¨ê»˜ ê·¸ë£¹í™”í•©ë‹ˆë‹¤. 
- `uses: action/checkout@v3`: uses í‚¤ì›Œë“œëŠ” actionì„ ì‹¤í–‰í•  ê²ƒì„ ì§€ì •í•©ë‹ˆë‹¤. ì´ Actionì€ workflowì—ì„œ ì €ì¥ì†Œë¥¼ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë„ë¡ checkout í•©ë‹ˆë‹¤.
- `uses: action/set-dnoe@v3`: ì´ Actionì€ Node.jsì˜ ì§€ì •ëœ ë²„ì „ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤. `with` í‚¤ì›Œë“œëŠ” Actionì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•œ ì¸ìˆ˜ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
- `run`: run í‚¤ì›Œë“œëŠ” runnerì—ì„œ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë„ë¡ jobì— ì§€ì‹œí•©ë‹ˆë‹¤. run: í‚¤ì›Œë“œ ì´í›„ í›„ì†ë˜ëŠ” ëª…ë ¹ì€ runnerì—ì„œ ì‹¤í–‰ ê°€ëŠ¥í•œ ì‰˜ ëª…ë ¹ ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.

## workflow ì‹¤í–‰
workflowê°€ íŠ¸ë¦¬ê±°ë˜ë©´ workflowê°€ ì‹¤í–‰ë©ë‹ˆë‹¤. GitHubì—ì„œëŠ” ê° stepì˜ í™œë™ì„ ì‹œê°í™”í•˜ì—¬ ë³¼ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

1ï¸âƒ£ GitHub.comì—ì„œ ë¦¬í¬ì§€í† ë¦¬ì˜ ê¸°ë³¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.
  
2ï¸âƒ£ ë¦¬í¬ì§€í† ë¦¬ ì´ë¦„ ì•„ë˜ì˜ Action íƒ­ì„ í´ë¦­ í•©ë‹ˆë‹¤.
![image](https://user-images.githubusercontent.com/87158339/211809032-eb98bc92-086b-4c77-97ef-520aad7409f8.png)
  
3ï¸âƒ£ ì™¼ìª½ ì‚¬ì´ë“œë°”ì—ì„œ ë³´ë ¤ëŠ” workflowë¥¼ í´ë¦­í•©ë‹ˆë‹¤.
![image](https://user-images.githubusercontent.com/87158339/211810144-92233b37-0d88-49cc-91b5-066057a97d1d.png)
  
4ï¸âƒ£ ë³´ë ¤ëŠ” workflow runì„ í´ë¦­í•©ë‹ˆë‹¤.
![image](https://user-images.githubusercontent.com/87158339/211810359-aead6f3e-4e90-448c-94ed-d859fba00315.png)
  
5ï¸âƒ£ ë³´ë ¤ëŠ” jobì„ ì„ íƒí•©ë‹ˆë‹¤.
![image](https://user-images.githubusercontent.com/87158339/211810625-cdb90a7b-8a1e-4a22-b218-e22f33c4af97.png)
  
6ï¸âƒ£ ê° ë‹¨ê³„ì˜ ê²°ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
![image](https://user-images.githubusercontent.com/87158339/211810775-0318ecab-3b8b-442f-b38b-efbf082b7623.png)

## ğŸ“Œì¶œì²˜
[ê¹ƒí—ˆë¸Œ ì•¡ì…˜ /GitHub ì‘ì—… ì•Œì•„ë³´ê¸° /GitHub ì‘ì—… ì´í•´](https://docs.github.com/ko/actions/learn-github-actions/understanding-github-actions)

***
    ğŸ‘ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ ì¡°ì–¸ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ë‚¨ê²¨ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}