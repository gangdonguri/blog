---
title: '[docker] docker ë„¤íŠ¸ì›Œí¬ - ë„¤íŠ¸ì›Œí‚¹ ììŠµì„œ (4)'
excerpt: "network"

categories:
  - docker
tags: 
  - [docker]

date: 2023-01-30
last_modified_at: 2023-01-30
---

# ğŸ¯ë„¤íŠ¸ì›Œí‚¹ ììŠµì„œ
- ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ ììŠµì„œ
- í˜¸ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí‚¹ ììŠµì„œ

## ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ ììŠµì„œ
- `ê¸°ë³¸ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬`: Dockerê°€ ìë™ìœ¼ë¡œ ì„¤ì • í•˜ëŠ” ê¸°ë³¸ `bridge` ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. 
- `ì‚¬ìš©ì ì •ì˜ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬`: ë™ì¼í•œ Docker í˜¸ìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì—°ê²°í•˜ê¸° ìœ„í•´ ê³ ìœ í•œ ì‚¬ìš©ì ì§€ì • ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ë¥¼ ë§Œë“¤ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

### ê¸°ë³¸ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©
- í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ `ê¸°ë³¸ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ê¶Œì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ë ¤ëŠ” ê²½ìš° `ì‚¬ìš©ì ì •ì˜ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬` ì‚¬ìš©ì„ ê³ ë ¤í•˜ì‹­ì‹œì˜¤.

```bash
# TODO 1. docker network ls
$ docker network ls
NETWORK ID     NAME      DRIVER    SCOPE
b0639baf7651   bridge    bridge    local
58579e13e100   host      host      local
64fd52749656   none      null      local

# TODO 2. alpine ì´ë¯¸ì§€ì˜ ê¸°ë³¸ ì‰˜ì¸ ashë¥¼ ì‹¤í–‰í•˜ëŠ” ë‘ ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.
$ docker run -dit --name alpine1 alpine ash
3a5c906729cc8f1bfa85ad1cc1cb84ad56188865ec521eb8bf17e7ed7b076c13
$ docker run -dit --name alpine2 alpine ash
d1fe432fb7d15985292d3b5b4ae31dc781ec358e8231e1e9466eeedc9e76f31b

# --network í”Œë˜ê·¸ë¥¼ ì§€ì •í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ê¸°ë³¸ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ë©ë‹ˆë‹¤.

# TODO 3. docker network inspect bridge
$ docker network inspect bridge
[
    {
        "Name": "bridge",
        "Id": "b0639baf76517dc10dfcc224aa5653c47c465d394d594d06594edab94e336757",
        "Created": "2023-01-25T12:15:14.77016413Z",
        "Scope": "local",
        "Driver": "bridge",
        "EnableIPv6": false,
        "IPAM": {
            "Driver": "default",
            "Options": null,
            "Config": [
                {
                    "Subnet": "172.17.0.0/16",
                    "Gateway": "172.17.0.1"
                }
            ]
        },
        "Internal": false,
        "Attachable": false,
        "Ingress": false,
        "ConfigFrom": {
            "Network": ""
        },
        "ConfigOnly": false,
        "Containers": {
            "3a5c906729cc8f1bfa85ad1cc1cb84ad56188865ec521eb8bf17e7ed7b076c13": {
                "Name": "alpine1",
                "EndpointID": "eeccb2d8346a7fd1d5e0ff097bcf3071946bb5ac1c6821661cea603f04ff05a4",
                "MacAddress": "02:42:ac:11:00:02",
                "IPv4Address": "172.17.0.2/16",
                "IPv6Address": ""
            },
            "d1fe432fb7d15985292d3b5b4ae31dc781ec358e8231e1e9466eeedc9e76f31b": {
                "Name": "alpine2",
                "EndpointID": "c5d382fdc5c481b32881d3cdab0ee518a8486edd56655abcd5d71a245f5e6159",
                "MacAddress": "02:42:ac:11:00:03",
                "IPv4Address": "172.17.0.3/16",
                "IPv6Address": ""
            }
        },
        "Options": {
            "com.docker.network.bridge.default_bridge": "true",
            "com.docker.network.bridge.enable_icc": "true",
            "com.docker.network.bridge.enable_ip_masquerade": "true",
            "com.docker.network.bridge.host_binding_ipv4": "0.0.0.0",
            "com.docker.network.bridge.name": "docker0",
            "com.docker.network.driver.mtu": "1500"
        },
        "Labels": {}
    }
]

# ë§¨ ìœ„ì—ëŠ” Docker í˜¸ìŠ¤íŠ¸ì™€ bridge ë„¤íŠ¸ì›Œí¬ ì‚¬ì´ì˜ ê²Œì´íŠ¸ì›¨ì´ IP ì£¼ì†Œë¥¼ í¬í•¨í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ì— ëŒ€í•œ ì •ë³´ê°€ ë‚˜ì—´ë©ë‹ˆë‹¤.
# Containers í‚¤ ì•„ë˜ì—ëŠ” ì—°ê²°ëœ ê° ì»¨í…Œì´ë„ˆê°€ ê°€ì§„ IP ì£¼ì†Œì— ëŒ€í•œ ì •ë³´ê°€ ë‚˜ì—´ë©ë‹ˆë‹¤.

# TODO 4. ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì— attachí•˜ì—¬ ip ì •ë³´ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
$ docker attach alpine1
/ # ip addr show
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
458: eth0@if459: <BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN> mtu 1500 qdisc noqueue state UP 
    link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff
    inet 172.17.0.2/16 brd 172.17.255.255 scope global eth0
       valid_lft forever preferred_lft forever


# ì»¨í…Œì´ë„ˆì— ì ‘ì†í–ˆì„ ë•Œ ì¶œë ¥ë˜ëŠ” '/ #' ë¬¸ìëŠ” ì»¨í…Œì´ë„ˆë‚´ì—ì„œ root ìœ ì € í”„ë¡¬í”„íŠ¸ë¥¼ íšë“í•˜ì˜€ìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
# ì²« ë²ˆì§¸ ì¸í„°í˜ì´ìŠ¤ëŠ” ë£¨í”„ë°±ì´ê³  etho0@if459 ì¸í„°í˜ì´ìŠ¤ëŠ” ì´ì „ ë‹¨ê³„ì—ì„œ inspect ëª…ë ¹ìœ¼ë¡œ í™•ì¸í•œ IP ì£¼ì†Œì™€ ê°™ìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# TODO 5. alpine1 ì»¨í…Œì´ë„ˆì—ì„œ í•‘ì„ í†µí•´ ì¸í„°ë„·ì— ì—°ê²°í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
/ # ping -c 2 google.com
PING google.com (142.250.206.206): 56 data bytes
64 bytes from 142.250.206.206: seq=0 ttl=54 time=36.682 ms
64 bytes from 142.250.206.206: seq=1 ttl=54 time=35.721 ms

--- google.com ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 35.721/36.201/36.682 ms

# TODO 6. alpine1 ì»¨í…Œì´ë„ˆì—ì„œ alpine2 ì»¨í…Œì´ë„ˆì˜ IP ì£¼ì†Œë¡œ ping í•©ë‹ˆë‹¤.
/ # ping -c 2 172.17.0.3
PING 172.17.0.3 (172.17.0.3): 56 data bytes
64 bytes from 172.17.0.3: seq=0 ttl=64 time=0.086 ms
64 bytes from 172.17.0.3: seq=1 ttl=64 time=0.088 ms

--- 172.17.0.3 ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 0.086/0.087/0.088 ms

# TODO 7. alpine1 ì»¨í…Œì´ë„ˆì—ì„œ alpine2 ì»¨í…Œì´ë„ˆì˜ ì´ë¦„ìœ¼ë¡œ ping í•©ë‹ˆë‹¤.
/ # ping -c 2 alpine2
ping: bad address 'alpine2'

# ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆê°„ì—ëŠ” IP ì£¼ì†Œë¥¼ ì´ìš©í•œ í†µì‹ ì´ ê°€ëŠ¥í•˜ì§€ë§Œ ì»¨í…Œì´ë„ˆ ì´ë¦„ìœ¼ë¡œëŠ” í†µì‹ ì´ ë¶ˆê°€ëŠ¥í•¨ì„ ì•Œ ìˆ˜ ìˆë‹¤.
```

### ì‚¬ìš©ì ì •ì˜ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©
```bash
# TODO 1. alpine-net ì‚¬ìš©ì ì •ì˜ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ë¥¼ ë§Œë“­ë‹ˆë‹¤.
$ docker network create --driver bridge alpine-net
46be04a90dc73334f3a803f02f4c9d2e071f6fde48baf5cca7056c5bc479b430

# --driver bridge í”Œë˜ê·¸ëŠ” ê¸°ë³¸ê°’ì´ë¯€ë¡œ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# TODO 2. docker network ls
$ docker network ls
NETWORK ID     NAME         DRIVER    SCOPE
46be04a90dc7   alpine-net   bridge    local
b0639baf7651   bridge       bridge    local
58579e13e100   host         host      local
64fd52749656   none         null      local

# TODO 3. docker network inspect alpine-net
$ docker network inspect alpine-net
[
    {
        "Name": "alpine-net",
        "Id": "46be04a90dc73334f3a803f02f4c9d2e071f6fde48baf5cca7056c5bc479b430",
        "Created": "2023-01-31T10:10:03.563456932Z",
        "Scope": "local",
        "Driver": "bridge",
        "EnableIPv6": false,
        "IPAM": {
            "Driver": "default",
            "Options": {},
            "Config": [
                {
                    "Subnet": "192.168.112.0/20",
                    "Gateway": "192.168.112.1"
                }
            ]
        },
        "Internal": false,
        "Attachable": false,
        "Ingress": false,
        "ConfigFrom": {
            "Network": ""
        },
        "ConfigOnly": false,
        "Containers": {},
        "Options": {},
        "Labels": {}
    }
]

# inspect ëª…ë ¹ì˜ ê²°ê³¼ë¡œ í˜„ì¬ alpine-net ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ëœ ì»¨í…Œì´ë„ˆê°€ ì—†ìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
# ê²Œì´íŠ¸ì›¨ì´ ì£¼ì†Œê°€ 172.17.0.1ì¸ ê¸°ë³¸ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ì™€ ë‹¬ë¦¬ ì´ ë„¤íŠ¸ì›Œí¬ì˜ ê²Œì´íŠ¸ì›¨ì´ ì£¼ì†ŒëŠ” 192.168.112.1 ì…ë‹ˆë‹¤.

# TODO 4. 4ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“­ë‹ˆë‹¤. 
$ docker run -dit --name alpine1 --network alpine-net alpine ash
4c31b32f68960d229e18af07d3628ff6bb49cd58923439f35a488f0e7ee12095

$ docker run -dit --name alpine2 --network alpine-net alpine ash
dda353744a09c9b776535d7ddfbd2873549dd61bfcaef4e7b67235241f457615

$ docker run -dit --name alpine3 alpine ash
503fc14e7529b2ad4193afe5b355aa4ca5447504ce7bfbd0667633c0b5a15ce6

$ docker run -dit --name alpine4 --network alpine-net alpine ash
b432f1efe117503393747bb157c006f71003ae24eacae05fd64cb82f1dc876a5

$ docker network connect bridge alpine4

# alpine3 ì»¨í…Œì´ë„ˆëŠ” --network í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
# alpine4 ì»¨í…Œì´ë„ˆëŠ” 'docker network connect' ëª…ë ¹ì„ ì´ìš©í•´ ê¸°ë³¸ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ë¥¼ ì¶”ê°€ ì—°ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

# TODO 5.1 bridge ë„¤íŠ¸ì›Œí¬ë¥¼ ê²€ì‚¬í•©ë‹ˆë‹¤.
$ docker network inspect bridge
[
    {
        "Name": "bridge",
        "Id": "b0639baf76517dc10dfcc224aa5653c47c465d394d594d06594edab94e336757",
        "Created": "2023-01-25T12:15:14.77016413Z",
        "Scope": "local",
        "Driver": "bridge",
        "EnableIPv6": false,
        "IPAM": {
            "Driver": "default",
            "Options": null,
            "Config": [
                {
                    "Subnet": "172.17.0.0/16",
                    "Gateway": "172.17.0.1"
                }
            ]
        },
        "Internal": false,
        "Attachable": false,
        "Ingress": false,
        "ConfigFrom": {
            "Network": ""
        },
        "ConfigOnly": false,
        "Containers": {
            "503fc14e7529b2ad4193afe5b355aa4ca5447504ce7bfbd0667633c0b5a15ce6": {
                "Name": "alpine3",
                "EndpointID": "244f187fa6be85b1d2814ce81ab9fd6f16be84ad1f46c51324ad27abe70ca8b0",
                "MacAddress": "02:42:ac:11:00:02",
                "IPv4Address": "172.17.0.2/16",
                "IPv6Address": ""
            },
            "b432f1efe117503393747bb157c006f71003ae24eacae05fd64cb82f1dc876a5": {
                "Name": "alpine4",
                "EndpointID": "c29061a43f4ab5d69e9a1fc34cbc8e4851df5179e9a70f0afbdfa272464e89ca",
                "MacAddress": "02:42:ac:11:00:03",
                "IPv4Address": "172.17.0.3/16",
                "IPv6Address": ""
            }
        },
        "Options": {
            "com.docker.network.bridge.default_bridge": "true",
            "com.docker.network.bridge.enable_icc": "true",
            "com.docker.network.bridge.enable_ip_masquerade": "true",
            "com.docker.network.bridge.host_binding_ipv4": "0.0.0.0",
            "com.docker.network.bridge.name": "docker0",
            "com.docker.network.driver.mtu": "1500"
        },
        "Labels": {}
    }
]

# TODO 5.2 alpine-net ë„¤íŠ¸ì›Œí¬ë¥¼ ê²€ì‚¬í•©ë‹ˆë‹¤.
$ docker network inspect alpine-net
[
    {
        "Name": "alpine-net",
        "Id": "46be04a90dc73334f3a803f02f4c9d2e071f6fde48baf5cca7056c5bc479b430",
        "Created": "2023-01-31T10:10:03.563456932Z",
        "Scope": "local",
        "Driver": "bridge",
        "EnableIPv6": false,
        "IPAM": {
            "Driver": "default",
            "Options": {},
            "Config": [
                {
                    "Subnet": "192.168.112.0/20",
                    "Gateway": "192.168.112.1"
                }
            ]
        },
        "Internal": false,
        "Attachable": false,
        "Ingress": false,
        "ConfigFrom": {
            "Network": ""
        },
        "ConfigOnly": false,
        "Containers": {
            "4c31b32f68960d229e18af07d3628ff6bb49cd58923439f35a488f0e7ee12095": {
                "Name": "alpine1",
                "EndpointID": "229a0ae43e90fbf25c3988af4f40f51f07fd76f74ccb4fa1e42650f2174189f1",
                "MacAddress": "02:42:c0:a8:70:02",
                "IPv4Address": "192.168.112.2/20",
                "IPv6Address": ""
            },
            "b432f1efe117503393747bb157c006f71003ae24eacae05fd64cb82f1dc876a5": {
                "Name": "alpine4",
                "EndpointID": "bb16c131a432a9f47426a6233021a6b1b61ed50040b7897204b9b4967b6de03a",
                "MacAddress": "02:42:c0:a8:70:04",
                "IPv4Address": "192.168.112.4/20",
                "IPv6Address": ""
            },
            "dda353744a09c9b776535d7ddfbd2873549dd61bfcaef4e7b67235241f457615": {
                "Name": "alpine2",
                "EndpointID": "5982f51cd390e9abed2deb4bf15dfeec090ea67e05cc33f619389ae1d458fe19",
                "MacAddress": "02:42:c0:a8:70:03",
                "IPv4Address": "192.168.112.3/20",
                "IPv6Address": ""
            }
        },
        "Options": {},
        "Labels": {}
    }
]

# alpine3, alpine4 ì»¨í…Œì´ë„ˆëŠ” ê¸°ë³¸ ë¸Œë¦¬ì§€ì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.
# alpine1, alpine2, alpine4 ì»¨í…Œì´ë„ˆëŠ” alpine-net ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.

# TODO 6. alpine1 ì»¨í…Œì´ë„ˆì— attach í•˜ì—¬ alpine2, alpine4 ì»¨í…Œì´ë„ˆ ì´ë¦„ìœ¼ë¡œ ping í•©ë‹ˆë‹¤.
$ docker attach alpine1
/ # ping -c 2 alpine2
PING alpine2 (192.168.112.3): 56 data bytes
64 bytes from 192.168.112.3: seq=0 ttl=64 time=1.503 ms
64 bytes from 192.168.112.3: seq=1 ttl=64 time=0.076 ms

--- alpine2 ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 0.076/0.789/1.503 ms
/ # ping -c 2 alpine4
PING alpine4 (192.168.112.4): 56 data bytes
64 bytes from 192.168.112.4: seq=0 ttl=64 time=2.980 ms
64 bytes from 192.168.112.4: seq=1 ttl=64 time=0.088 ms

--- alpine4 ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 0.088/1.534/2.980 ms

# ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ì—ì„œëŠ” ì»¨í…Œì´ë„ˆ IP ì£¼ì†Œë¡œ í†µì‹ í•  ìˆ˜ ìˆì„ ë¿ë§Œ ì•„ë‹ˆë¼ ì»¨í…Œì´ë„ˆ ì´ë¦„ì„ IP ì£¼ì†Œë¡œ í™•ì¸í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì„ ìë™ ì„œë¹„ìŠ¤ ê²€ìƒ‰ì´ë¼ê³  í•©ë‹ˆë‹¤.

# TODO 7. alpine3 ì»¨í…Œì´ë„ˆì— ping í•©ë‹ˆë‹¤.
/ # ping -c 2 alpine3
ping: bad address 'alpine3'

/ # ping -c 2 172.17.0.2
PING 172.17.0.2 (172.17.0.2): 56 data bytes

--- 172.17.0.2 ping statistics ---
2 packets transmitted, 0 packets received, 100% packet loss

# alpine-net ë„¤íŠ¸ì›Œí¬ì—ë§Œ ì—°ê²°ëœ ì»¨í…Œì´ë„ˆì—ì„œ alpine3 ì»¨í…Œì´ë„ˆë¡œ í†µì‹ í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ì—†ìŠµë‹ˆë‹¤.

# TODO 8. apine4 ì»¨í…Œì´ë„ˆì— attach í•˜ì—¬ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì— ping í•©ë‹ˆë‹¤.
/ # ping -c 2 alpine1
PING alpine1 (192.168.112.2): 56 data bytes
64 bytes from 192.168.112.2: seq=0 ttl=64 time=0.065 ms
64 bytes from 192.168.112.2: seq=1 ttl=64 time=0.097 ms

--- alpine1 ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 0.065/0.081/0.097 ms
/ # ping -c 2 alpine2
PING alpine2 (192.168.112.3): 56 data bytes
64 bytes from 192.168.112.3: seq=0 ttl=64 time=0.299 ms
64 bytes from 192.168.112.3: seq=1 ttl=64 time=0.104 ms

--- alpine2 ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 0.104/0.201/0.299 ms
/ # ping -c 2 alpine3
ping: bad address 'alpine3'
/ # ping -c 2 172.17.0.2
PING 172.17.0.2 (172.17.0.2): 56 data bytes
64 bytes from 172.17.0.2: seq=0 ttl=64 time=0.229 ms
64 bytes from 172.17.0.2: seq=1 ttl=64 time=0.115 ms

--- 172.17.0.2 ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 0.115/0.172/0.229 ms

# alpine4 ì»¨í…Œì´ë„ˆëŠ” ê¸°ë³¸ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ì™€ ì‚¬ìš©ì ì •ì˜ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ì— ëª¨ë‘ ì—°ê²°ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
# ë”°ë¼ì„œ alpine1, alpine2, alpine3 ì»¨í…Œì´ë„ˆ ëª¨ë‘ì™€ í†µì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
# ë‹¤ë§Œ, alpine3 ì»¨í…Œì´ë„ˆëŠ” ê¸°ë³¸ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ë¡œ ì—°ê²°ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì»¨í…Œì´ë„ˆ ì´ë¦„ì´ ì•„ë‹Œ IP ì£¼ì†Œë¡œë§Œ í†µì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```

## í˜¸ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí‚¹ ììŠµì„œ
- ì´ ììŠµì„œì˜ ëª©í‘œëŠ” Docker í˜¸ìŠ¤íŠ¸ì˜ 80 í¬íŠ¸ì— ì§ì ‘ ë°”ì¸ë”© ë˜ëŠ” `nginx` ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
- ë„¤íŠ¸ì›Œí‚¹ ê´€ì ì—ì„œ `nginx` í”„ë¡œì„¸ìŠ¤ê°€ ì»¨í…Œì´ë„ˆê°€ ì•„ë‹Œ Docker í˜¸ìŠ¤íŠ¸ì—ì„œ ì§ì ‘ ì‹¤í–‰ë˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ ìˆ˜ì¤€ì˜ ê²©ë¦¬ì…ë‹ˆë‹¤.
- ê·¸ëŸ¬ë‚˜ ì €ì¥ì†Œ, í”„ë¡œì„¸ìŠ¤, ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì™€ ê°™ì€ ë‹¤ë¥¸ ëª¨ë“  ë¦¬ì†ŒìŠ¤ì—ì„œëŠ” `nginx` í”„ë¡œì„¸ìŠ¤ê°€ í˜¸ìŠ¤íŠ¸ì—ì„œ ê²©ë¦¬ë©ë‹ˆë‹¤.

```bash
# TODO 1. nginx ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. 
$ docker run --rm -d --network host --name my_nginx nginx
da59ee895a0a52edb5f99bedab52e4f9ac64727b4520fac4d10f7b36334e6118

# TODO 2. curl http://localhost:80 ìœ¼ë¡œ ì´ë™í•˜ì—¬ Nginxì— ì—‘ì„¸ìŠ¤ í•©ë‹ˆë‹¤.
$ curl http://localhost:80
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
html { color-scheme: light dark; }
body { width: 35em; margin: 0 auto;
font-family: Tahoma, Verdana, Arial, sans-serif; }
</style>
</head>
<body>
<h1>Welcome to nginx!</h1>
<p>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.</p>

<p>For online documentation and support please refer to
<a href="http://nginx.org/">nginx.org</a>.<br/>
Commercial support is available at
<a href="http://nginx.com/">nginx.com</a>.</p>

<p><em>Thank you for using nginx.</em></p>
</body>
</html>

# TODO 3. Docker í˜¸ìŠ¤íŠ¸ì—ì„œ ifconfig ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆ ì¸í„°í˜ì´ìŠ¤ê°€ ìƒì„±ë˜ì§€ ì•Šì•˜ëŠ”ì§€ ê²€ì‚¬í•©ë‹ˆë‹¤.
$ ifconfig

# host ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ìƒì„±ëœ ì»¨í…Œì´ë„ˆëŠ” Docker í˜¸ìŠ¤íŠ¸ì— ìƒˆë¡œìš´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

# TODO 4. Docker í˜¸ìŠ¤íŠ¸ì—ì„œ netstat ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ 80 í¬íŠ¸ì— ë°”ì¸ë”©ëœ í”„ë¡œì„¸ìŠ¤ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
$ docker container inspect my_nginx | grep -w Pid
            "Pid": 7092,
$ netstat -tnlp | grep :80
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      7092/nginx: master  
tcp6       0      0 :::80                   :::*                    LISTEN      7092/nginx: master
```

## ğŸ“Œì¶œì²˜
[Docker Docs](https://docs.docker.com/network/)

***
    ğŸ‘ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ ì¡°ì–¸ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ë‚¨ê²¨ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}