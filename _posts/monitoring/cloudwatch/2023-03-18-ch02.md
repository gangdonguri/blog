---
title: '[cloudwatch] Aurora ëª¨ë‹ˆí„°ë§'
excerpt: "Aurora"

categories:
  - cloudwatch
tags: 
  - [cloudwatch]

date: 2023-03-18
last_modified_at: 2023-03-18
---

# ğŸ¯Amazon Aurora ëª¨ë‹ˆí„°ë§ì„ ìœ„í•œ ì£¼ìš” ì§€í‘œ
- Query throughput
- Query performance
- Resource utilization
- Connections
- Read replica metrics

## Query throughput
  
ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…ì€ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ë¯€ë¡œ ëª¨ë‹ˆí„°ë§ ì „ëµì˜ ì²« ë²ˆì§¸ ìš°ì„  ìˆœìœ„ëŠ” ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. 

ë˜í•œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì½ê¸°/ì“°ê¸° ê· í˜•ì„ ë” ì˜ ì´í•´í•˜ê³  ì ì¬ì ì¸ ë³‘ëª© í˜„ìƒì„ ì‹ë³„í•˜ê¸° ìœ„í•´ ì½ê¸° ë° ì“°ê¸° ëª…ë ¹ì˜ ë¶„ì„ì„ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  
|Metric description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|CloudWatch name|MySQL name|
|:-----------------|:--------------|:---------|
|Queries|Queries(per second)|Queries(count)|
|Reads|SelectThroughput(per second)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|Com_select + Qcache_hits(count)|
|Writes|DMLThroughput(per second)|Com_insert + Com_update + Com_delete(count)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|
  
### ê²½ê³ í•  ë©”íŠ¸ë¦­: Queries

## Query performance

latency ë˜í•œ ì¿¼ë¦¬ ë³¼ë¥¨ì„ ëª¨ë‹ˆí„°ë§ í•˜ëŠ”ë° ìˆì–´ ê°€ì¥ ì¤‘ìš”í•œ ë©”íŠ¸ë¦­ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. CloudWatch ì—ì„œëŠ” Auroraì— ëŒ€í•œ SELECT ë° DML(Insert, Update, Delete) latencyë¥¼ ìº¡ì³í•©ë‹ˆë‹¤.
  
|Metric description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|CloudWatch name|MySQL name|
|:-----------------|:--------------|:---------|
|Read query latency, in milliseconds|SelectLatency|-|
|Write query latency, in milliseconds|DMLLatency&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|-|
|Queries exceeding `long_query_time` limit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|-|Slow_queries&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|
|Query errors|-|(Only available via database query)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  

### ê²½ê³ í•  ë©”íŠ¸ë¦­: 
- latency
- slow_queries
- query_errors

## Resource utilization

ë°ì´í„°ë² ì´ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì— ì„±ëŠ¥ ë¬¸ì œê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ CPU, Memory, Disk, Networkì˜ ë„¤ ê°€ì§€ ê¸°ë³¸ ë¦¬ì†ŒìŠ¤ì™€ ê´€ë ¨ëœ ì§€í‘œë¥¼ í™•ì¸í•˜ì—¬ ë³‘ëª© í˜„ìƒì„ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤.

|Metric description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|CloudWatch name|Enhanced monitoring name|
|:-----------------|:--------------|:---------|
|Read I/O operations per second|ReadIOPS|diskIO.readIosPS|
|Write I/O operations per second|WriteIOPS|diskIO.writeIOsPS|
|I/O operations waiting for disk access&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|DiskQueueDepth|diskIO.diskQueueDepth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|
|Milliseconds per read I/O operation|ReadLatency|diskIO.readLatency|
|Milliseconds per write I/O operation|WriteLatency|diskIO.writeLatency|
|Percent CPU utilized|CPUUtilization|cpuUtilization.total|
|Available RAM in gigabytes|FreeableMemory|memory.free|
|Network traffic to the Aurora instance|NetworkReceive Throuhgput (MB/s)|network.rx(packets)|
|Network traffic from the Aurora instance|NetworkTransmit Throughput(MB/s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|network.tx(packets)|

- 2015ë…„ 12ì›”ë¶€í„° RDS ì‚¬ìš©ìëŠ” RDS ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ìì„¸í•œ ì‹œìŠ¤í…œ ìˆ˜ì¤€ ë©”íŠ¸ë¦­ì„ í‘œì‹œí•˜ëŠ” `Enhanced Monitoring` ê¸°ëŠ¥ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ìŠ¤í† ë¦¬ì§€ ë³¼ë¥¨ì´ ì½ê¸° ë° ì“°ê¸° ìš”ì²­ì„ ë”°ë¼ê°ˆ ìˆ˜ ì—†ëŠ” ê²½ìš° íì— ëŒ€ê¸° ì¤‘ì¸ I/O ì‘ì—…ì´ í‘œì‹œë˜ê¸° ì‹œì‘í•©ë‹ˆë‹¤. `DiskQueueDepth`ì€ ì£¼ì–´ì§„ ìˆœê°„ì— ì´ ëŒ€ê¸°ì—´ì˜ ê¸¸ì´ë¥¼ ì¸¡ì •í•©ë‹ˆë‹¤.
- `ReadLatency` ì™€ `WriteLatency` ë©”íŠ¸ë¦­ì€ ì „ì²´ query latencyì„ ìº¡ì²˜í•˜ì§€ ì•Šìœ¼ë©° ë””ìŠ¤í¬ ìˆ˜ì¤€ì—ì„œ I/O ì‘ì—…ì´ ì†Œìš”ë˜ëŠ” ì‹œê°„ë§Œ ì¸¡ì •í•©ë‹ˆë‹¤.
- ë°ì´í„°ë² ì´ìŠ¤ëŠ” ëŒ€ë¶€ë¶„ì˜ ì‘ì—… ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•  ìˆ˜ ìˆì„ ë•Œ ìµœìƒì˜ ì„±ëŠ¥ì„ ë°œíœ˜í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ `FreeableMemory`ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³  `ReadIOPS` ì§€í‘œë¥¼ ì¶”ì í•˜ì—¬ ì‘ì—… ë°ì´í„°ê°€ ì£¼ë¡œ ë©”ëª¨ë¦¬ì— ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.
- ë‹¤ë¥¸ RDS ë°ì´í„°ë² ì´ìŠ¤ ì—”ì§„ê³¼ ë‹¬ë¦¬ Auroraì˜ ë„¤íŠ¸ì›Œí¬ ì²˜ë¦¬ëŸ‰ ë©”íŠ¸ë¦­ì—ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ìŠ¤í† ë¦¬ì§€ ë³¼ë¥¨ìœ¼ë¡œì˜ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì´ í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë©”íŠ¸ë¦­ì€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë“¤ì–´ì˜¤ê³  ë‚˜ê°€ëŠ” ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ë§Œ ì¶”ì í•©ë‹ˆë‹¤.

### ê²½ê³ í•  ë©”íŠ¸ë¦­: DiskQueueDepth

## Connection metrics

ì‚¬ìš© ì¤‘ì¸ í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ìˆ˜ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê²ƒì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ í™œë™ê³¼ ìš©ëŸ‰ì„ ì´í•´í•˜ëŠ”ë° ì¤‘ìš”í•©ë‹ˆë‹¤. 

Auroraì—ëŠ” êµ¬ì„± ê°€ëŠ¥í•œ ì—°ê²° ì œí•œì´ ìˆê³  ê¸°ë³¸ê°’ì€ ë‹¤ìŒ ê³µì‹ì— ë”°ë¼ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ í´ë˜ìŠ¤ ë©”ëª¨ë¦¬ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤.

```
log(DBInstanceClassMemory/8187281408)*1000
```
  
|Metric description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|CloudWatch name|MySQL name|
|:-----------------|:--------------|:---------|
|Open database connections|DatabaseConnections&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|Threads_connected|
|Currently running connections|-|Threads_running|
|Failed connection attempts|LoginFailures(per second)|Aborted_connects(count)|
|Count of connections refused due to server error|-|Connection_errors_internal|
|Count of connections refused due to `max_connections` limit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|-|Connection_errors_max_connections&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|

- ì‚¬ìš© ì¤‘ì¸ ì—°ê²° ìˆ˜ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê¸° ìœ„í•´ CloudWatchëŠ” `DatabaseConnections` ì—´ë¦° ì—°ê²°ì„ ì¶”ì í•˜ëŠ” ì§€í‘œë¥¼ ë…¸ì¶œí•©ë‹ˆë‹¤.
- `Threads_running` ë©”íŠ¸ë¦­ì€ ì¿¼ë¦¬ë¥¼ ëŠ¥ë™ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ìŠ¤ë ˆë“œë¥¼ ê²©ë¦¬í•˜ì—¬ ì¶”ê°€ì ì¸ ê°€ì‹œì„±ì„ ì œê³µí•©ë‹ˆë‹¤.
- ì„œë²„ê°€ `max_connections` ì œí•œì— ë„ë‹¬í•˜ì—¬ ì—°ê²°ì„ ê±°ë¶€í•˜ê¸° ì‹œì‘í•˜ë©´ `Connection_error_max_connections` ì§€í‘œê°€ ì¦ê°€í•©ë‹ˆë‹¤.
- `LoginFailures` ì§€í‘œë¥¼ í†µí•´ ì‹¤íŒ¨í•œ ì—°ê²°ì„ ì¶”ì í•©ë‹ˆë‹¤.
- `Connections_errors_internal` ë©”íŠ¸ë¦­ì€ ì˜¤ë¥˜ê°€ ì„œë²„ ìì²´ì—ì„œ ë°œìƒí•  ë•Œ ì¦ê°€í•©ë‹ˆë‹¤. ë‚´ë¶€ ì˜¤ë¥˜ëŠ” ë©”ëª¨ë¦¬ ë¶€ì¡± ìƒíƒœ ë˜ëŠ” ì„œë²„ê°€ ìƒˆ ìŠ¤ë ˆë“œë¥¼ ì‹œì‘í•  ìˆ˜ ì—†ìŒì„ ì˜ë¯¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ê²½ê³ í•  ë©”íŠ¸ë¦­: 
- DatabaseConnections 
- Connection_errors_max_connections
- Connection_errors_internal

## Read replica metrics

AuroraëŠ” ì†ŒìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ìµœëŒ€ 15ê°œì˜ ì½ê¸° ì „ìš© ë³µì œë³¸ ìƒì„±ì„ ì§€ì›í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ë³µì œë³¸ì—ëŠ” ë³„ë„ì˜ ì—”ë“œí¬ì¸íŠ¸ê°€ í• ë‹¹ë˜ë¯€ë¡œ ì†ŒìŠ¤ ì¸ìŠ¤í„´ìŠ¤ê°€ ì•„ë‹Œ ë³µì œë³¸ì—ì„œ ì½ë„ë¡ í´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°€ë¦¬í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¼ë°˜ RDS ì¸ìŠ¤í„´ìŠ¤ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë³µì œë³¸ì˜ ì—°ê²°, ì²˜ë¦¬ëŸ‰ ë° ì¿¼ë¦¬ ì„±ëŠ¥ì„ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  
|Name|Desription|
|:---|:---------|
|AuroraReplicaLag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|Number of milliseconds by which replica trails source instance&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|

- ëª¨ë“  ì½ê¸° ë³µì œë³¸ì˜ ì§€ì—° ì‹œê°„ì€ CloudWatchì˜ `AuroraReplicaLag` ì§€í‘œì— ì˜í•´ ìº¡ì²˜ë©ë‹ˆë‹¤.
- ì´ê²ƒì€ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ ì—”ì§„ì— ì ìš©ë˜ëŠ” `ReplicaLag` ë©”íŠ¸ë¦­ê³¼ëŠ” ìƒë‹¹íˆ ë‹¤ë¥¸ ë©”íŠ¸ë¦­ì…ë‹ˆë‹¤. 
- Aurora ì¸ìŠ¤í„´ìŠ¤ëŠ” ëª¨ë‘ ë™ì¼í•œ ê°€ìƒ ìŠ¤í† ë¦¬ì§€ ë³¼ë¥¨ì—ì„œ ì½ê¸° ë•Œë¬¸ì— `AuroraReplicaLag`ëŠ” ì›ë³¸ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë³µì œë³¸ìœ¼ë¡œ ëª¨ë“  ì“°ê¸° ì‘ì—…ì„ ì ìš©í•˜ëŠ” ì§€ì—°ì´ ì•„ë‹ˆë¼ ì›ë³¸ì—ì„œ ë³µì œë³¸ìœ¼ë¡œì˜ í˜ì´ì§€ ìºì‹œ ì—…ë°ì´íŠ¸ ì§€ì—°ì„ ì¶”ì í•©ë‹ˆë‹¤.

## ğŸ“–ì¶œì²˜
[DataDog Blog](https://www.datadoghq.com/blog/monitoring-amazon-aurora-performance-metrics/#what-is-aurora)

***
    ğŸ‘ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ ì¡°ì–¸ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ë‚¨ê²¨ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}